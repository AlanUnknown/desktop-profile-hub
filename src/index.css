@tailwind base;
@tailwind components;
@tailwind utilities;

/* Windows XP Luna Theme Design System */
@import url('https://fonts.googleapis.com/css2?family=Tahoma:wght@400;700&display=swap');

@layer base {
  :root {
    /* Windows XP Luna Color Palette */
    --background: 210 40% 96%;
    --foreground: 220 20% 10%;

    --card: 0 0% 94%;
    --card-foreground: 220 20% 10%;

    --popover: 0 0% 94%;
    --popover-foreground: 220 20% 10%;

    /* XP Blue Accent */
    --primary: 213 72% 44%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 20% 85%;
    --secondary-foreground: 220 20% 10%;

    --muted: 210 20% 88%;
    --muted-foreground: 220 10% 40%;

    --accent: 213 72% 44%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 210 20% 75%;
    --input: 210 20% 80%;
    --ring: 213 72% 44%;

    --radius: 0px;

    /* Windows XP-specific tokens */
    --xp-title-start: 213 80% 55%;
    --xp-title-end: 213 80% 35%;
    --xp-start-btn-start: 120 60% 45%;
    --xp-start-btn-end: 120 60% 30%;
    --xp-taskbar-start: 213 70% 50%;
    --xp-taskbar-end: 213 70% 35%;
    --icon-size: 75px;
    --titlebar-height: 28px;
    
    /* XP Bliss-inspired desktop gradient */
    --desktop-sky-start: 200 80% 70%;
    --desktop-sky-end: 200 70% 55%;
    --desktop-grass: 95 50% 45%;

    /* Classic shadows */
    --shadow-window: 2px 2px 0 0 hsl(0 0% 0% / 0.3);
    --shadow-icon: 1px 1px 2px hsl(0 0% 0% / 0.3);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Tahoma', 'Segoe UI', sans-serif;
    overflow: hidden;
  }

  /* Classic XP scrollbar */
  ::-webkit-scrollbar {
    width: 16px;
    height: 16px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(210 20% 90%);
    border: 1px solid hsl(210 20% 70%);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(
      to right,
      hsl(210 20% 85%) 0%,
      hsl(210 20% 95%) 50%,
      hsl(210 20% 85%) 100%
    );
    border: 1px solid hsl(210 20% 60%);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(
      to right,
      hsl(210 20% 80%) 0%,
      hsl(210 20% 90%) 50%,
      hsl(210 20% 80%) 100%
    );
  }

  ::-webkit-scrollbar-button {
    background: hsl(210 20% 90%);
    border: 1px solid hsl(210 20% 70%);
    height: 16px;
    width: 16px;
  }
}

@layer components {
  /* XP Bliss-inspired desktop background */
  .desktop-wallpaper {
    background: linear-gradient(
      180deg,
      hsl(var(--desktop-sky-start)) 0%,
      hsl(var(--desktop-sky-end)) 60%,
      hsl(var(--desktop-grass)) 60%,
      hsl(95 45% 35%) 100%
    );
  }

  /* Classic XP window */
  .window {
    background: hsl(var(--card));
    border: 2px solid;
    border-color: hsl(0 0% 100%) hsl(0 0% 40%) hsl(0 0% 40%) hsl(0 0% 100%);
    box-shadow: var(--shadow-window);
  }

  .window-titlebar {
    height: var(--titlebar-height);
    background: linear-gradient(
      180deg,
      hsl(213 80% 60%) 0%,
      hsl(213 80% 50%) 10%,
      hsl(213 80% 45%) 50%,
      hsl(213 80% 35%) 100%
    );
    @apply flex items-center justify-between px-1 select-none;
    border-bottom: 1px solid hsl(213 70% 25%);
  }

  .window-title {
    @apply text-xs font-bold text-white;
    text-shadow: 1px 1px 1px hsl(0 0% 0% / 0.5);
  }

  .window-btn {
    width: 21px;
    height: 21px;
    @apply flex items-center justify-center text-xs font-bold;
    background: linear-gradient(
      180deg,
      hsl(213 60% 65%) 0%,
      hsl(213 60% 45%) 100%
    );
    border: 1px solid;
    border-color: hsl(0 0% 100% / 0.5) hsl(0 0% 0% / 0.3) hsl(0 0% 0% / 0.3) hsl(0 0% 100% / 0.5);
    border-radius: 2px;
    color: white;
    text-shadow: 1px 1px 0 hsl(0 0% 0% / 0.3);
  }

  .window-btn:hover {
    background: linear-gradient(
      180deg,
      hsl(213 70% 70%) 0%,
      hsl(213 70% 55%) 100%
    );
  }

  .window-btn:active {
    background: linear-gradient(
      180deg,
      hsl(213 60% 40%) 0%,
      hsl(213 60% 50%) 100%
    );
    border-color: hsl(0 0% 0% / 0.3) hsl(0 0% 100% / 0.5) hsl(0 0% 100% / 0.5) hsl(0 0% 0% / 0.3);
  }

  .window-close-btn {
    background: linear-gradient(
      180deg,
      hsl(0 70% 55%) 0%,
      hsl(0 70% 40%) 100%
    ) !important;
  }

  .window-close-btn:hover {
    background: linear-gradient(
      180deg,
      hsl(0 80% 60%) 0%,
      hsl(0 80% 50%) 100%
    ) !important;
  }

  /* Desktop icon styles - XP style */
  .desktop-icon {
    @apply flex flex-col items-center gap-1 p-1 cursor-pointer select-none;
    width: var(--icon-size);
  }

  .desktop-icon:hover .desktop-icon-label {
    background: hsl(213 72% 44%);
    color: white;
  }

  .desktop-icon.selected .desktop-icon-label {
    background: hsl(213 72% 44%);
    color: white;
  }

  .desktop-icon-image {
    @apply w-12 h-12 flex items-center justify-center;
    filter: drop-shadow(1px 1px 1px hsl(0 0% 0% / 0.5));
  }

  .desktop-icon-label {
    @apply text-xs text-white text-center font-normal leading-tight px-1;
    text-shadow: 1px 1px 1px hsl(0 0% 0% / 0.8);
    max-width: 70px;
    word-wrap: break-word;
  }

  /* XP Taskbar */
  .taskbar {
    @apply fixed bottom-0 left-0 right-0 h-8 flex items-center;
    background: linear-gradient(
      180deg,
      hsl(213 70% 55%) 0%,
      hsl(213 70% 48%) 3%,
      hsl(213 70% 42%) 50%,
      hsl(213 70% 38%) 51%,
      hsl(213 70% 35%) 100%
    );
    border-top: 1px solid hsl(213 70% 65%);
  }

  .start-button {
    @apply flex items-center gap-1 h-full px-3 font-bold text-white text-sm;
    background: linear-gradient(
      180deg,
      hsl(120 55% 50%) 0%,
      hsl(120 55% 42%) 50%,
      hsl(120 55% 35%) 100%
    );
    border-radius: 0 8px 8px 0;
    border-right: 1px solid hsl(120 50% 25%);
    text-shadow: 1px 1px 1px hsl(0 0% 0% / 0.5);
    font-style: italic;
  }

  .start-button:hover {
    background: linear-gradient(
      180deg,
      hsl(120 60% 55%) 0%,
      hsl(120 60% 47%) 50%,
      hsl(120 60% 40%) 100%
    );
  }

  .start-button.active {
    background: linear-gradient(
      180deg,
      hsl(120 50% 35%) 0%,
      hsl(120 50% 42%) 50%,
      hsl(120 50% 50%) 100%
    );
  }

  /* XP Start Menu */
  .start-menu {
    position: absolute;
    bottom: 100%;
    left: 0;
    width: 380px;
    background: hsl(var(--card));
    border: 2px solid;
    border-color: hsl(213 70% 55%) hsl(213 70% 30%) hsl(213 70% 30%) hsl(213 70% 55%);
    box-shadow: 4px 4px 8px hsl(0 0% 0% / 0.4);
    z-index: 9999;
  }

  .start-menu-header {
    @apply flex items-center gap-3 p-3;
    background: linear-gradient(
      180deg,
      hsl(213 70% 50%) 0%,
      hsl(213 70% 40%) 100%
    );
  }

  .start-menu-avatar {
    @apply w-12 h-12 rounded flex items-center justify-center;
    background: linear-gradient(
      135deg,
      hsl(210 20% 70%) 0%,
      hsl(210 20% 50%) 100%
    );
    border: 2px solid hsl(0 0% 100% / 0.5);
  }

  .start-menu-username {
    @apply font-bold text-white text-sm;
    text-shadow: 1px 1px 1px hsl(0 0% 0% / 0.5);
  }

  .start-menu-content {
    @apply flex;
    min-height: 280px;
  }

  .start-menu-left {
    @apply flex-1 p-2 bg-white;
    border-right: 1px solid hsl(210 20% 80%);
  }

  .start-menu-right {
    @apply w-36 p-2;
    background: hsl(213 50% 92%);
  }

  .start-menu-item {
    @apply flex items-center gap-2 w-full px-2 py-1.5 text-sm text-left rounded;
    color: hsl(220 20% 20%);
  }

  .start-menu-item:hover {
    background: hsl(213 70% 50%);
    color: white;
  }

  .start-menu-separator {
    @apply my-2;
    border-top: 1px solid hsl(210 20% 80%);
  }

  .start-menu-footer {
    @apply flex justify-end gap-2 p-2;
    background: linear-gradient(
      180deg,
      hsl(213 50% 85%) 0%,
      hsl(213 50% 75%) 100%
    );
    border-top: 1px solid hsl(213 60% 65%);
  }

  .start-menu-footer-btn {
    @apply flex items-center gap-1 px-3 py-1 text-xs rounded;
    background: linear-gradient(
      180deg,
      hsl(210 15% 95%) 0%,
      hsl(210 15% 85%) 100%
    );
    border: 1px solid hsl(210 20% 70%);
    color: hsl(220 20% 20%);
  }

  .start-menu-footer-btn:hover {
    background: linear-gradient(
      180deg,
      hsl(213 60% 60%) 0%,
      hsl(213 60% 45%) 100%
    );
    color: white;
  }

  .system-tray {
    @apply flex items-center h-full px-2 ml-auto;
    background: linear-gradient(
      180deg,
      hsl(213 60% 50%) 0%,
      hsl(213 60% 40%) 50%,
      hsl(213 60% 35%) 100%
    );
    border-left: 2px solid hsl(213 60% 30%);
    border-top-left-radius: 2px;
    border-bottom-left-radius: 2px;
  }

  /* Word document view */
  .word-document {
    @apply bg-white max-w-[800px] mx-auto shadow-lg;
    min-height: 100%;
  }

  .word-document-page {
    @apply p-12;
    font-family: 'Times New Roman', Times, serif;
    line-height: 1.6;
  }

  .word-document h1 {
    @apply text-2xl font-bold text-center mb-6;
    color: hsl(220 20% 10%);
  }

  .word-document h2 {
    @apply text-lg font-bold mt-8 mb-3 pb-1 border-b-2;
    color: hsl(213 72% 44%);
    border-color: hsl(213 72% 44%);
  }

  .word-document p {
    @apply mb-3 text-sm;
    color: hsl(220 20% 20%);
  }

  .word-document ul {
    @apply list-disc pl-6 mb-4 text-sm;
    color: hsl(220 20% 20%);
  }

  .word-document li {
    @apply mb-1;
  }

  /* Minesweeper styles */
  .minesweeper-game {
    @apply flex flex-col h-full;
    background: hsl(var(--muted));
  }

  .minesweeper-menu {
    @apply flex gap-4 px-2 py-0.5 text-xs;
    background: hsl(var(--card));
    border-bottom: 1px solid hsl(var(--border));
  }

  .minesweeper-menu-item {
    @apply cursor-pointer;
    color: hsl(var(--foreground));
  }

  .minesweeper-menu-item:hover {
    text-decoration: underline;
  }

  .minesweeper-container {
    @apply p-2;
  }

  .minesweeper-status {
    @apply flex items-center justify-between p-1 mb-2;
    background: hsl(var(--muted));
    border: 2px solid;
    border-color: hsl(0 0% 40%) hsl(0 0% 100%) hsl(0 0% 100%) hsl(0 0% 40%);
  }

  .minesweeper-counter {
    @apply font-mono text-xl font-bold px-1;
    background: hsl(0 0% 5%);
    color: hsl(0 100% 50%);
    min-width: 50px;
    text-align: center;
    border: 1px solid;
    border-color: hsl(0 0% 30%) hsl(0 0% 70%) hsl(0 0% 70%) hsl(0 0% 30%);
  }

  .minesweeper-face {
    @apply text-xl p-1 cursor-pointer;
    background: hsl(var(--muted));
    border: 2px solid;
    border-color: hsl(0 0% 100%) hsl(0 0% 40%) hsl(0 0% 40%) hsl(0 0% 100%);
  }

  .minesweeper-face:active {
    border-color: hsl(0 0% 40%) hsl(0 0% 100%) hsl(0 0% 100%) hsl(0 0% 40%);
  }

  .minesweeper-grid {
    @apply inline-block;
    border: 3px solid;
    border-color: hsl(0 0% 40%) hsl(0 0% 100%) hsl(0 0% 100%) hsl(0 0% 40%);
  }

  .minesweeper-cell {
    @apply w-6 h-6 flex items-center justify-center text-xs;
    background: hsl(var(--muted));
    border: 2px solid;
    border-color: hsl(0 0% 100%) hsl(0 0% 40%) hsl(0 0% 40%) hsl(0 0% 100%);
  }

  .minesweeper-cell:active:not(.revealed) {
    border-color: hsl(0 0% 50%);
    background: hsl(var(--secondary));
  }

  .minesweeper-cell.revealed {
    background: hsl(var(--secondary));
    border: 1px solid hsl(0 0% 50%);
  }

  .minesweeper-cell.mine {
    background: hsl(0 70% 60%);
  }

  .minesweeper-overlay {
    @apply absolute inset-0 flex items-center justify-center;
    background: hsl(0 0% 0% / 0.5);
  }

  .minesweeper-message {
    @apply flex flex-col items-center gap-3 p-6 rounded text-lg font-bold;
    background: hsl(var(--card));
    border: 2px solid;
    border-color: hsl(0 0% 100%) hsl(0 0% 40%) hsl(0 0% 40%) hsl(0 0% 100%);
    color: hsl(var(--foreground));
  }

  .minesweeper-restart {
    @apply px-4 py-1 text-sm;
    background: hsl(var(--muted));
    border: 2px solid;
    border-color: hsl(0 0% 100%) hsl(0 0% 40%) hsl(0 0% 40%) hsl(0 0% 100%);
    color: hsl(var(--foreground));
  }

  .minesweeper-restart:hover {
    background: hsl(var(--secondary));
  }
}

@layer utilities {
  .no-drag {
    -webkit-user-drag: none;
    user-drag: none;
  }
}
